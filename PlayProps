# Depth (messages)
depth = solace_queue_messages_current{vpn="$vpn", queue="$queue"}

# Ingress / Egress rates (msgs/sec)
ingress_rate = rate(solace_queue_messages_in_total{vpn="$vpn", queue="$queue"}[5m])
egress_rate  = rate(solace_queue_messages_out_total{vpn="$vpn", queue="$queue"}[5m])

# Backlog growth (msgs/sec) â€“ positive = growing queue
backlog_growth = ingress_rate - egress_rate
