groups:
  - name: SolaceAlerts
    rules:
      - alert: SolaceHA_Down
        expr: count_over_time(probe_http_status_code{job="solace_health_checks"} == 503[2m]) by (env, host, region) == 2
        for: 2m
        labels:
          severity: critical
        annotations:
          summary: "Solace HA Pair Down"
          description: "Both brokers in HA pair (Env: {{ $labels.env }}, Host: {{ $labels.host }}, Region: {{ $labels.region }}) are down for 2 minutes."
