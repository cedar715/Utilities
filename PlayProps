apiVersion: v1
kind: ConfigMap
metadata:
  name: solace-event-pairs
data:
  solace-event-pairs.yml: |
    pairs:
      # ===== Core platform health =====
      - kind: CFGSYNC
        raise: SYSTEM_CFGSYNC_DOWN
        clear: SYSTEM_CFGSYNC_UP
        metricBase: sol_state_cfgsync
        labels: [vpn, host]

      - kind: HA_NODE
        raise: SYSTEM_HA_REDUN_GROUP_NODE_LEFT
        clear: SYSTEM_HA_REDUN_GROUP_NODE_JOINED
        metricBase: sol_state_ha_node
        labels: [vpn, host, group]

      - kind: HA_REDUNDANCY
        raise: SYSTEM_HA_REDUN_STATE_DOWN
        clear: SYSTEM_HA_REDUN_STATE_UP
        metricBase: sol_state_ha_redundancy
        labels: [vpn, host]

      - kind: HA_VRRP
        raise: SYSTEM_HA_VRRP_STATE_DOWN
        clear: SYSTEM_HA_VRRP_STATE_UP
        metricBase: sol_state_ha_vrrp
        labels: [vpn, host, interface]

      - kind: CLUSTER_LINK
        raise: SYSTEM_CLUSTERING_LINK_DOWN
        clear: SYSTEM_CLUSTERING_LINK_UP
        metricBase: sol_state_cluster_link
        labels: [vpn, host, link]

      - kind: DNS_SERVER
        raise: SYSTEM_DNS_NAME_SERVER_DOWN
        clear: SYSTEM_DNS_NAME_SERVER_UP
        metricBase: sol_state_dns_server
        labels: [host, server]

      - kind: NTP_SERVER
        raise: SYSTEM_NTP_SERVER_DOWN
        clear: SYSTEM_NTP_SERVER_UP
        metricBase: sol_state_ntp_server
        labels: [host, server]

      - kind: PTP_SYNC
        raise: SYSTEM_PTP_SYNC_DOWN
        clear: SYSTEM_PTP_SYNC_UP
        metricBase: sol_state_ptp_sync
        labels: [host, ptp_domain]

      - kind: ETH_LINK
        raise: SYSTEM_LINK_ETH_LINK_DOWN
        clear: SYSTEM_LINK_ETH_LINK_UP
        metricBase: sol_state_eth_link
        labels: [host, interface]

      - kind: ADB_LINK
        raise: SYSTEM_LINK_ADB_LINK_DOWN
        clear: SYSTEM_LINK_ADB_LINK_UP
        metricBase: sol_state_adb_link
        labels: [host, link]

      - kind: DISK_ARRAY_PATH
        raise: SYSTEM_LINK_PATH_TO_DISK_ARRAY_DOWN
        clear: SYSTEM_LINK_PATH_TO_DISK_ARRAY_UP
        metricBase: sol_state_disk_array_path
        labels: [host, path]

      # ===== Routing =====
      - kind: ROUTING_CSPF_CONN
        raise: SYSTEM_ROUTING_CSPF_CONN_DOWN
        clear: SYSTEM_ROUTING_CSPF_CONN_UP
        metricBase: sol_state_routing_cspf_conn
        labels: [host, neighbor]

      # ===== System thresholds =====
      - kind: SYS_MSG_SPOOL
        raise: SYSTEM_AD_MSG_SPOOL_HIGH
        clear: SYSTEM_AD_MSG_SPOOL_HIGH_CLEAR
        metricBase: sol_state_sys_msg_spool
        labels: [host]

      - kind: SYS_FAN
        raise: SYSTEM_CHASSIS_FAN_HIGH
        clear: SYSTEM_CHASSIS_FAN_HIGH_CLEAR
        metricBase: sol_state_sys_fan
        labels: [host, sensor]

      - kind: SYS_TEMP_HIGH
        raise: SYSTEM_CHASSIS_TEMPERATURE_HIGH
        clear: SYSTEM_CHASSIS_TEMPERATURE_HIGH_CLEAR
        metricBase: sol_state_sys_temp
        labels: [host, sensor]

      - kind: SYS_DISK_UTIL
        raise: SYSTEM_CHASSIS_DISK_UTILIZATION_HIGH
        clear: SYSTEM_CHASSIS_DISK_UTILIZATION_HIGH_CLEAR
        metricBase: sol_state_sys_disk_util
        labels: [host, disk]

      - kind: SYS_STORAGE_ELEM_USAGE
        raise: SYSTEM_CHASSIS_STORAGE_ELEMENT_USAGE_HIGH
        clear: SYSTEM_CHASSIS_STORAGE_ELEMENT_USAGE_HIGH_CLEAR
        metricBase: sol_state_sys_storage_elem
        labels: [host, element]

      - kind: SSL_CONNECTIONS
        raise: SYSTEM_SSL_CONNECTIONS_HIGH
        clear: SYSTEM_SSL_CONNECTIONS_HIGH_CLEAR
        metricBase: sol_state_ssl_connections
        labels: [host]

      # ===== VPN thresholds =====
      - kind: VPN_MSG_SPOOL
        raise: VPN_AD_MSG_SPOOL_HIGH
        clear: VPN_AD_MSG_SPOOL_HIGH_CLEAR
        metricBase: sol_state_vpn_msg_spool
        labels: [vpn, host]

      - kind: VPN_EGRESS_FLOWS
        raise: VPN_AD_EGRESS_FLOWS_HIGH
        clear: VPN_AD_EGRESS_FLOWS_HIGH_CLEAR
        metricBase: sol_state_vpn_egress_flows
        labels: [vpn, host]

      - kind: VPN_INGRESS_FLOWS
        raise: VPN_AD_INGRESS_FLOWS_HIGH
        clear: VPN_AD_INGRESS_FLOWS_HIGH_CLEAR
        metricBase: sol_state_vpn_ingress_flows
        labels: [vpn, host]

      - kind: VPN_ENDPOINTS
        raise: VPN_AD_ENDPOINTS_HIGH
        clear: VPN_AD_ENDPOINTS_HIGH_CLEAR
        metricBase: sol_state_vpn_endpoints
        labels: [vpn, host]
