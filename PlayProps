# solace-event-mappings.yml  (mount at /config/solace-event-mappings.yml)
solace:
  latch:
    keyspace: solace:latch
    refresh-interval: 5000   # ms for exporter refresh + snapshot cache TTL
  event-mappings:
    - problem: SYSTEM_HA_REDUN_GROUP_NODE_LEFT
      clear:   SYSTEM_HA_REDUN_GROUP_NODE_JOINED
      metric:  sol_state_ha_redundancy_group_node
      ttl:     86400           # 24h
      labels:  [vpn, host, group]
    - problem: VPN_AD_MSG_SPOOL_HIGH
      clear:   VPN_AD_MSG_SPOOL_HIGH_CLEAR
      metric:  sol_state_vpn_msg_spool_threshold
      ttl:     7200            # 2h
      labels:  [vpn, host]
    - problem: CLIENT_CLIENT_CONNECT_FAIL
      clear:   CLIENT_CLIENT_CONNECT
      metric:  sol_state_client_connection
      ttl:     3600
      labels:  [vpn, host, client_username]
