- name: Check if port 5141 is open
  ansible.builtin.wait_for:
    port: 5141
    state: started
    timeout: 10
    host: "{{ inventory_hostname }}"
  delegate_to: localhost
  register: port_check
  ignore_errors: true

- name: Display port status
  debug:
    msg: >
      Port 5141 is {{ 'open' if port_check.state == 'started' else 'closed' }} on {{ inventory_hostname }}.
